---
title: 零碎笔记
date: 2022-07-15 +/-TTTT
categories: [生活, 闲聊]
tags: []     # TAG names should always be lowercase
---

# 后端与数据库交互
1. 数据库的日期类型是date，后端参数为String时也可以存入，取数据的时候，也可以直接赋值给String，范围查询也可以直接使用日期字符串作为参数，**总结似乎存在一个转换器能自动将String转换成数据库类型Date，和将数据库类型Date转换成String**，同时月或日只有一位时，数据库会自动补零

# 数据库sql
default约束不能使用函数

# ajax请求
```js
var json
const target = $.getJSON("/power/electron/" + getDateByOffset(offset), (res)=>{
    console.log(res)    //这里是可以得到JSon数据的
    json = res
})
console.log(json)   //但是就算再回调函数中赋值了json，函数外输出时值依然是undefined，因为函数里面的数据是异步加载的
json = target.responseJSon
```
因为ajax异步加载的原因，responsJSon我们再函数之外是获取不到的<br>
关闭异步的方法：<br>

```js
$.ajaxSettings.async = false;
````
但是执行过后记得重新开启起步`$.ajaxSettings.async = true;`，避免影响到其他的ajax异步请求